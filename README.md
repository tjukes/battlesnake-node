<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Snakespeare](#snakespeare)
    -   [Team: Nate Rosenstock, Arkady Futerman, Ryder Bergerud, Tana Jukes](#team-nate-rosenstock-arkady-futerman-ryder-bergerud-tana-jukes)
        -   [about](#about)
        -   [documentation](#documentation)
        -   [git-stuff](#git-stuff)
        -   [testing](#testing)
    -   [Deploying to Heroku](#deploying-to-heroku)
-   [Docs from starter-snake](#docs-from-starter-snake)
    -   [battlesnake-node(js)](#battlesnake-nodejs)
    -   [Getting started (from Sendwithus)](#getting-started-from-sendwithus)
    -   [Running the AI locally](#running-the-ai-locally)
-   [API](#api)
-   [simple](#simple)
-   [createGraph](#creategraph)
-   [naiveProbabilityLongTerm](#naiveprobabilitylongterm)
-   [Snake](#snake)
    -   [move](#move)
-   [\_equiDistant](#_equidistant)
-   [equiDistantFromHead](#equidistantfromhead)
-   [searchBoard](#searchboard)
-   [searchHeads](#searchheads)
-   [closestSnakes](#closestsnakes)
-   [checkMate](#checkmate)
-   [dijkstra](#dijkstra)
-   [aStar](#astar)
-   [getNeighboursIndex](#getneighboursindex)
-   [checkTailGrowth](#checktailgrowth)
-   [taxiDistance](#taxidistance)
-   [taxiDistance](#taxidistance-1)

## Snakespeare

### Team: Nate Rosenstock, Arkady Futerman, Ryder Bergerud, Tana Jukes

#### about

Individual work incorporated via pull requests.  See [PRs](https://github.com/tjukes/battlesnake-node/pulls?q=is%3Apr+is%3Aclosed) and [open branches](https://github.com/tjukes/battlesnake-node/branches) for details on each team member's work.  

-   Nate: Avoid snake heads, follow tail, game history, avoid dead ends. See
-   Ryder: Safe spaces, OO snakes, probabilistic grids, tests.
-   Tana: Sanity checking, longest open path (not implemented), coordinating code compatability.
-   Arkady:

The snake was ultimately deployed from the branch `nate-new` to <http://this-snake.herokuapp.com/>.

#### documentation

To compile docs,
`npm run docs`
Add documentation in the JSdoc format, found [here](http://usejsdoc.org/about-getting-started.html)

If you wish to edit the README, please do so on the README_snakespeare.md file.  It is used to autogenerate the README.md, so anything you add to README.md will be overwritten each time `npm run docs` is run.

The documentation.yml file is for configuring the documentation generator.

#### git-stuff

Use branches for feature development or personal experimentation: `git checkout -b some-new-branch-name`

Merge to master via Github pull requests.

#### testing

To run tests,
`npm test`

### Deploying to Heroku

Current Heroku deployment: <http://this-snake.herokuapp.com/>

Can be updated or replaced as development progresses.

## Docs from starter-snake

### battlesnake-node(js)

A simple [BattleSnake AI](http://battlesnake.io) written in Javascript for NodeJS. Founded on the [Sendwithus starter snake](https://github.com/sendwithus/battlesnake-node)

### Getting started (from Sendwithus)

See <https://github.com/sendwithus/battlesnake-node> for full details or to start a new snake from a blank slate.

To get started you'll need a working NodeJS development environment, and at least read the Heroku docs on [deploying a NodeJS app](https://devcenter.heroku.com/articles/getting-started-with-nodejs).

If you haven't setup a NodeJS development environment before, read [how to get started with NodeJS](http://nodejs.org/documentation/tutorials/). You'll also need [npm](https://www.npmjs.com/) for easy JS dependency management.

This client uses [Express4](http://expressjs.com/en/4x/api.html) for easy route management, read up on the docs to learn more about reading incoming JSON params, writing responses, etc.

### Running the AI locally

Clone this repo via HTTPS or SSH.

Install the client dependencies:

    npm install

Create an `.env` file in the root of the project and add your environment variables (optional).

Run the server:

    nf start web

Test the client in your browser: <http://localhost:5000>

* * *

## API

## simple

Weighting scheme will assign 1 to edges going out
to vertices which are unoccupied

**Parameters**

-   `v1` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** edge starts at this vertex
-   `v2` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** edge goes to this vertex
-   `graph`  

Returns **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** weight

## createGraph

Creates a graph of the board.
 See API of [Graph.js](https://www.npmjs.com/package/graph.js#Graph+toJSON)

**Parameters**

-   `grid` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)>** the grid of snakes
-   `rule` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** This is how we assign weights to edges between the cells of the board.
    default sets all edges to open vertices value 0) w/ edge weight 1, 0 otherwise (optional, default `simple`)

Returns **Graph** 

## naiveProbabilityLongTerm

Should return an guestimation the probability of next cell being occupied on the nth turn:

-   the length of the snake
-   the initial location of the snake head.

**Parameters**

-   `grid`  
-   `snake`  

## Snake

**Parameters**

-   `reqBody` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** might replace this with board
-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** snake's unique identifier

### move

Will return a copy of the snake who has moved in the direction
specified.  The direction will be taken whether or not its walkable,
it is the responsibility of the board keep track of snake, and tell
it on next turn whether or not it has died.

**Parameters**

-   `direction` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** either of "up, "down", "left", "right"

Returns **[Snake](#snake)** a clone having taken the move.

## \_equiDistant

Looks for set of cells that are or distance n from the head
Disregards all other snakes on board.  Might return negative indices.

**Parameters**

-   `head`  
-   `distance`  
-   `height`  
-   `width`  

## equiDistantFromHead

Looks for set of cells that are or distance n from the head
Disregards all other snakes on board.  Doesn't return negative indices.

**Parameters**

-   `head` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)>** Snake.head
-   `distance` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `height` **height** 
-   `width` **width** 

## searchBoard

Search
First search all of moves keeping other snakes fixed.  Can go deeper
Then choose closest head, and if it is within the search depth\*2,
 and search all combinations of all snakes heads
mark all paths that give death as negative score

## searchHeads

Takes a look at where other snake's heads might be in the short term.

**Parameters**

-   `Board` **Board** 
-   `turns` **integer** how many turns to look at into the future.
    Keep in mind that we shouldn't look too far, because this is O(3^n).  Eek!
-   `board`  

## closestSnakes

Find all snakes that you could have a head-on collision with within _distance_ turns
Note: this assumes all other snakes are static when calculating number of
turns until collision between two snake heads.

**Parameters**

-   `board`  
-   `distance`  

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** an array of objects w/ {snake: Snake, path: Array<Point>} that are within distance\*2 of
the given snakehead

## checkMate

Check if next move could result in checkmate.

## dijkstra

Find shortest path by dijkstra's algorithm given changing graph values

**Parameters**

-   `startVertex` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;integer>** , [l,m]
-   `endVertex` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;integer>** 
-   `graph` **Graph** 
-   `board`  

## aStar

Finds shortests path, faster normally the dijkstra's algorithm

**Parameters**

-   `graph` **Graph** 
-   `startVertex` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;integer>** 
-   `endVertex` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;integer>** 

## getNeighboursIndex

Returns an object with values indices[l,m] of neighbours
that aren't other snakes

**Parameters**

-   `i` **integer** row index
-   `j` **integer** col index
-   `grid` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)>** 

## checkTailGrowth

Keeps track of when another snake eats, and
if planning on going into last element of tail, abort!

**Parameters**

-   `board` **Board** 

## taxiDistance

Calculates taxi-car distance between two points

**Parameters**

-   `startVertex`  
-   `endVertex`  
